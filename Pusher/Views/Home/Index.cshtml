@using Microsoft.AspNetCore.Identity

@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@if (!SignInManager.IsSignedIn(User))
{
    {
         Layout = null;
    }
    <!doctype html>
    <html lang="en" dir="ltr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta http-equiv="Content-Language" content="en" />
        <meta name="msapplication-TileColor" content="#2d89ef">
        <meta name="theme-color" content="#4188c9">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <link rel="icon" href="~/favicon.ico" type="image/x-icon" />
        <link rel="shortcut icon" type="image/x-icon" href="~/favicon.ico" />
        <title>Homepage </title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,400,400i,500,500i,600,600i,700,700i&amp;subset=latin-ext">
        <script src="~/js/require.min.js"></script>
        <script>
            requirejs.config({
                baseUrl: ''
            });
        </script>
        <!-- Dashboard Core -->
        <link href="~/css/dashboard.css" rel="stylesheet" />
        <script src="~/js/dashboard.js"></script>
        <!-- c3.js Charts Plugin -->
        <link href="~/plugins/charts-c3/plugin.css" rel="stylesheet" />
        <script src="~/plugins/charts-c3/plugin.js"></script>
        <!-- Google Maps Plugin -->
        <link href="~/plugins/maps-google/plugin.css" rel="stylesheet" />
        <script src="~/plugins/maps-google/plugin.js"></script>
        <!-- Input Mask Plugin -->
        <script src="~/plugins/input-mask/plugin.js"></script>

        <link rel="stylesheet" href="~/styles/railscasts.css">
        <script src="~/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </head>
    <body class="">
        <div class="page">
            <div class="page-main">
                <div class="header py-4">
                    <div class="container">
                        <div class="d-flex">
                            <a class="header-brand" href="#">
                                <img src="~/images/push.png" class="header-brand-img" alt="tabler logo">
                            </a>
                            <div class="d-flex order-lg-2 ml-auto">
                                <partial name="_LoginPartial" />
                            </div>
                            <a href="#" class="header-toggler d-lg-none ml-3 ml-lg-0" data-toggle="collapse" data-target="#headerMenuCollapse">
                                <span class="header-toggler-icon"></span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="my-3 my-md-5">
                    <div class="container">
                        <div class="page-header">
                            <h1 class="page-title">
                                Documentation
                            </h1>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 order-lg-1 mb-4">
                                @*<a href="https://github.com/tabler/tabler" class="btn btn-block btn-primary mb-6">
                                    <i class="fe fe-github mr-2"></i>Browse source code
                                </a>
                                <!-- Getting started -->
                                <div class="list-group list-group-transparent mb-0">
                                    <a href="../docs/index.html" class="list-group-item list-group-item-action active"><span class="icon mr-3"><i class="fe fe-flag"></i></span>Introduction</a>
                                </div>
                                <!-- Components -->
                                <div class="list-group list-group-transparent mb-0">
                                    <a href="../docs/alerts.html" class="list-group-item list-group-item-action"><span class="icon mr-3"><i class="fe fe-alert-triangle"></i></span>Alerts</a>
                                    <a href="../docs/avatars.html" class="list-group-item list-group-item-action"><span class="icon mr-3"><i class="fe fe-user"></i></span>Avatars</a>
                                    <a href="../docs/buttons.html" class="list-group-item list-group-item-action"><span class="icon mr-3"><i class="fe fe-plus-square"></i></span>Buttons</a>
                                    <a href="../docs/colors.html" class="list-group-item list-group-item-action"><span class="icon mr-3"><i class="fe fe-feather"></i></span>Colors</a>
                                    <a href="../docs/cards.html" class="list-group-item list-group-item-action"><span class="icon mr-3"><i class="fe fe-image"></i></span>Cards</a>
                                    <a href="../docs/charts.html" class="list-group-item list-group-item-action"><span class="icon mr-3"><i class="fe fe-pie-chart"></i></span>Charts</a>
                                    <a href="../docs/form-components.html" class="list-group-item list-group-item-action"><span class="icon mr-3"><i class="fe fe-check-square"></i></span>Form components</a>
                                    <a href="../docs/tags.html" class="list-group-item list-group-item-action"><span class="icon mr-3"><i class="fe fe-tag"></i></span>Tags</a>
                                    <a href="../docs/typography.html" class="list-group-item list-group-item-action"><span class="icon mr-3"><i class="fe fe-type"></i></span>Typography</a>
                                </div>
                                <div class="d-none d-lg-block mt-6">
                                    <a href="https://github.com/tabler/tabler/edit/dev/src/_docs/index.md" class="text-muted">Edit this page</a>
                                </div>*@
                            </div>
                            <div class="col-lg-9">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="text-wrap p-lg-6">
                                            <h2 class="mt-0 mb-4">Introduction</h2>
                                            <p>
                                                We’ve created this project for everyone who wants to add realtime functionality to all their web ,mobile,desktop applications
                                            </p>

                                            <h3 id="setup-environment">Setup environment</h3>
                                            <h4 id="">For Web Application Angular/ Ionic mobile app</h4>
                                            <p>To use our realtime system Follow these steps:</p>
                                            <ul style="list-style: none;">
                                                <li>use nodejs CLI</li>
                                                <li>Navigate to the root of your application<code class="highlighter-rouge"></code> directory and run <code class="highlighter-rouge">npm install &#64;aspnet/signalr&#64;1.0.4</code></li>
                                                <li style="color: red">Make sure the version is <b>1.0.4</b></li>
                                                <li>Add namespace</li>
                                                <li>
                                                    <pre><code>
    import { HubConnection } from '&#64;/signalr';
    import * as signalR from '&#64;/signalr';
</code></pre>
                                                </li>
                                                <li>Add Code</li>
                                                <li>
                                                    <pre><code>
export class AppComponent {
  constructor(
    private platform: Platform,
    private splashScreen: SplashScreen,
    private statusBar: StatusBar
  ) {
    this.initializeApp();
  }
  //Created a private variable
  private _hubConnection:  HubConnection ;

  initializeApp() {
      this.platform.ready().then(() => {
      this.statusBar.styleDefault();
      this.splashScreen.hide();
      //Building a connection
      this._hubConnection = new signalR.HubConnectionBuilder()
      .withUrl('http://our-url.com/push')
      .configureLogging(signalR.LogLevel.Information)
      .build();
        //Start the connection
      this._hubConnection
      .start()
      .then(() => console.log('Connection started!'))
      .catch(err => console.log('Error while establishing connection :('));
      //Call Back methode
      this._hubConnection.on('ReceiveMessage', ( user: string, message: string) => {
              console.log(user + ' :- '+ message)});
              //Do what ever you want to do as real time
    });
  }
}
                                                    </code></pre>
                                                </li>
                                            </ul>
                                            <p>We will add other platforms</p>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <footer class="footer">
                <div class="container">
                    <div class="row align-items-center flex-row-reverse">
                        <div class="col-12 col-lg-auto mt-3 mt-lg-0 text-center">
                            Copyright © 2018 All rights reserved.
                        </div>
                    </div>
                </div>
            </footer>
        </div>
        <script src="~/lib/signalr/dist/browser/signalr.min.js"></script>
        <script>
            var connection = new signalR.HubConnectionBuilder().withUrl("/push").build();

            connection.on("ReceiveMessage", function (user, message) {
                console.log(user + message);
            });
        </script>
    </body>
</html>
}
else
{
    <h3>Welcome</h3>
}